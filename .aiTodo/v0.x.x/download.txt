Экран DownloadActivity показывает однострочное поле ввода "Введите URL" и кнопку с планшетом вставки из буффера, поле ввода и кнопка на одной строке. Снизу будет 4 кнопки и рядом с каждой в той же строке маленькая кнопка с шестерёнкой. Большие кнопки: "Скачать видео", "Скачать аудио", "Скачать видео плейлист", "Скачать аудио плейлист". При попытке нажать одну из больших кнопок без ввода URL, светится тоаст "Введите URL".

По нажатии на шестерню появляется всплывающее окно "Опции" (для каждой большой кнопки они свои). У "Скачать видео" есть две галочки "bestvideo" и "bestaudio", поумолчанию обе выключены. У "Скачать аудио" одна галочка "bestaudio", выключена. У "Скачать аудиоплейлист" и "Скачать видеоплейлист", соответственно, две и одна галочка, поумолчанию выключены. В окне опций видеокнопок (видео и видеоплейлист, там где по две галочки) есть информационная строка (смайлик "внимание") " bestvideo+bestaudio может качать по 2 файла на один трек" (это нормально, но кушает трафик, юзер выходит из умолчания, отдавая себе отчёт о расходах).

Класс DownloadActivity обрабатывает кнопки, вставляет из буффера url. Имеет приватные переменные для хранения флагов, устанавливаемых через всплывающие окошки шестерёнок для каждой из больших кнопок.

Если прожата одна из больших кнопок, то формируем массив строк - опции будующей команды yt-dlp. Для первой кнопки, как уже понятно, можно включать или нет формат bestvideo+bestaudio или его градации, для второй выбор только с bestaudio или без. Третья, добавить опцию плейлиста и смотреть на галочки bestvideo+bestaudio. Четвёртая кнопка - плейлист и, возможно, bestaudio. Т.е. мы прямым текстом запросили у юзера насколько много трафика и cpu он готов потратить через галочки форматов, поумолчанию все галочки сняты.

Итого, у нас, если есть, опции форматов, дальше мы превентивно ставим опцию сохранять контент в files, если плейлист, то это будет папка с файлами (а то и дерево). Последней строкой опций всегда идёт URL из поля текстового ввода. Сформированный массив отправляем в MainActivity и сами переходим туда.

